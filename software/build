#!/bin/sh
~/Dev/bin/z80asm -I ./asm-common/include                      ./Client/src/msxpi-client.asm             -o ./target/msxpi-client.bin
~/Dev/bin/z80asm -I ./asm-common/include                      ./ROM/src/msxpi-rom.asm                   -o ./target/msxpi-rom.rom
~/Dev/bin/z80asm -I ./asm-common/include                      ./ROM/src/msxpi-rom_bin.asm               -o ./target/msxpi-rom.bin

cat ./target/msxpi-rom.rom >./target/msxpi-rom_0.7_32k.rom
cat ./target/msxpi-rom.rom>>./target/msxpi-rom_0.7_32k.rom
scp Server/C/src/msxpi-server.c pi@192.168.1.16:msxpi/
scp ./target/msxpi-rom.rom      pi@192.168.1.16:msxpi/
scp ./target/msxpi-rom.bin      pi@192.168.1.16:msxpi/
scp ./target/msxpi-client.bin   pi@192.168.1.16:msxpi/
ssh pi@192.168.1.16 cc -Wall -pthread -o msxpi/msxpi-server msxpi/msxpi-server.c -lpigpio -lrt

